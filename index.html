<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>St. Benedict's Prep - 8th Grade Math</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>St. Benedict's Prep - 8th Grade Math</h1>
            <div class="header-stats">
                <div class="stat-item">
                    <span class="stat-label">Mode:</span>
                    <select id="modeSelector" class="mode-selector">
                        <option value="practice">Practice</option>
                        <option value="challenge">Challenge</option>
                        <option value="session">Session</option>
                    </select>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Score:</span>
                    <span id="scoreDisplay" class="stat-value">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Streak:</span>
                    <span id="streakDisplay" class="stat-value">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Best Streak:</span>
                    <span id="bestStreakDisplay" class="stat-value">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Timer:</span>
                    <span class="timer-display">
                        <span id="challengeTimerDisplay" class="challenge-timer stat-value">Total: 0m 0s</span>
                        <span class="timer-separator">|</span>
                        <span id="timerDisplay" class="question-timer stat-value">Question: 0s</span>
                    </span>
                </div>
            </div>
        </header>

        <!-- Mobile Menu Overlay -->
        <div id="mobileMenuOverlay" class="mobile-menu-overlay"></div>

        <!-- Navigation Sidebar -->
        <nav class="nav-sidebar">
            <!-- Mobile Menu Toggle -->
            <button id="mobileMenuToggle" class="mobile-menu-toggle" aria-label="Toggle menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            
            <!-- Problem Type Tabs -->
            <div class="tabs">
                <button class="tab-button active" data-tab="slope">Slope & Description</button>
                <button class="tab-button" data-tab="relationship">Line Relationship</button>
                <button class="tab-button" data-tab="parallel">Parallel Line</button>
                <button class="tab-button" data-tab="perpendicular">Perpendicular Line</button>
                <button class="tab-button" data-tab="intercepts">Intercepts</button>
                <button class="tab-button" data-tab="rateofchange">Rate of Change</button>
                <button class="tab-button" data-tab="linearfunction">Linear Functions</button>
                <button class="tab-button" data-tab="standardform">Standard Form</button>
                <button class="tab-button" data-tab="pointslope">Point-Slope Form</button>
                <button class="tab-button" data-tab="absolutevalue">Absolute Value</button>
                <!-- MILESTONE 19: Interactive Graphing Practice -->
                <button class="tab-button" data-tab="graph-slopeintercept">üìä Graph: Slope-Intercept</button>
                <button class="tab-button" data-tab="graph-pointslope">üìä Graph: Point-Slope</button>
                <button class="tab-button" data-tab="graph-parallel">üìä Graph: Parallel Lines</button>
                <button class="tab-button" data-tab="graph-perpendicular">üìä Graph: Perpendicular Lines</button>
                <button class="tab-button" data-tab="graph-absolutevalue">üìä Graph: Absolute Value</button>
                <button class="tab-button" data-tab="stats">Statistics</button>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">

            <!-- Problem Type 1: Slope and Line Description -->
            <div id="slope-panel" class="problem-panel active">
                <div class="problem-layout">
                    <div class="problem-card">
                        <div class="problem-header">
                            <h2>Slope and Line Description</h2>
                            <button class="hint-button" data-hint="slope" title="Get hints">
                                üí° Get Hint
                            </button>
                        </div>
                        <!-- Mode selector for different slope-intercept variants -->
                        <div class="mode-selector-group" style="margin-bottom: 15px;">
                            <label>Practice Mode:</label>
                            <select id="slopeModeSelector" class="mode-selector-small">
                                <option value="twoPoints">From Two Points</option>
                                <option value="mAndB">From m and b</option>
                                <option value="mAndPoint">From m and Point</option>
                            </select>
                        </div>
                        
                        <!-- Two Points Mode (default) -->
                        <div id="slopeTwoPointsMode" class="slope-mode">
                        <p class="instructions">Enter two points in the format: (x1,y1),(x2,y2)</p>
                        <div class="input-group">
                            <label for="slopeInput">Points:</label>
                            <input type="text" id="slopeInput" placeholder="(2,3),(5,9)" class="input-field">
                        </div>
                        <button id="slopeCalculateBtn" class="submit-button">Calculate</button>
                        </div>
                        
                        <!-- From m and b Mode -->
                        <div id="slopeMAndBMode" class="slope-mode" style="display: none;">
                            <p class="instructions">Enter slope (m) and y-intercept (b). Use fractions like 2/3 or integers.</p>
                            <div class="input-group">
                                <label for="slopeInterceptMInput">Slope (m):</label>
                                <input type="text" id="slopeInterceptMInput" placeholder="2/3 or 2" class="input-field">
                            </div>
                            <div class="input-group">
                                <label for="slopeInterceptBInput">y-intercept (b):</label>
                                <input type="text" id="slopeInterceptBInput" placeholder="5 or -3" class="input-field">
                            </div>
                            <button id="slopeInterceptMBCalculateBtn" class="submit-button">Calculate</button>
                            <div id="slopeInterceptMBQuestionContainer" style="display: none;">
                                <div class="multiple-choice-question">
                                    <p class="question-text"></p>
                                    <div class="radio-group" id="slopeInterceptMBOptions"></div>
                                </div>
                                <button id="slopeInterceptMBSubmit" class="submit-button" style="display: none;">Submit Answer</button>
                            </div>
                        </div>
                        
                        <!-- From m and Point Mode -->
                        <div id="slopeMAndPointMode" class="slope-mode" style="display: none;">
                            <p class="instructions">Enter slope (m) and a point (x,y). Use fractions like 2/3 or integers.</p>
                            <div class="input-group">
                                <label for="slopeInterceptMPointMInput">Slope (m):</label>
                                <input type="text" id="slopeInterceptMPointMInput" placeholder="2/3 or 2" class="input-field">
                            </div>
                            <div class="input-group">
                                <label for="slopeInterceptMPointInput">Point:</label>
                                <input type="text" id="slopeInterceptMPointInput" placeholder="(3, 5)" class="input-field">
                            </div>
                            <button id="slopeInterceptMPointCalculateBtn" class="submit-button">Calculate</button>
                            <div id="slopeInterceptMPointQuestionContainer" style="display: none;">
                                <div class="multiple-choice-question">
                                    <p class="question-text"></p>
                                    <div class="radio-group" id="slopeInterceptMPointOptions"></div>
                                </div>
                                <button id="slopeInterceptMPointSubmit" class="submit-button" style="display: none;">Submit Answer</button>
                            </div>
                        </div>
                        
                        <!-- Two-Point Form Mode (Section 4.11) -->
                        <div id="slopeTwoPointMode" class="slope-mode" style="display: none;">
                            <p class="instructions">Enter two points to find the slope-intercept form equation.</p>
                            <div class="input-group">
                                <label for="twoPointP1Input">Point 1:</label>
                                <input type="text" id="twoPointP1Input" placeholder="(2, 3)" class="input-field">
                            </div>
                            <div class="input-group">
                                <label for="twoPointP2Input">Point 2:</label>
                                <input type="text" id="twoPointP2Input" placeholder="(5, 9)" class="input-field">
                            </div>
                            <button id="twoPointCalculateBtn" class="submit-button">Calculate</button>
                            <div id="twoPointQuestionContainer" style="display: none;">
                                <div class="multiple-choice-question">
                                    <p class="question-text"></p>
                                    <div class="radio-group" id="twoPointOptions"></div>
                                </div>
                                <button id="twoPointSubmit" class="submit-button" style="display: none;">Submit Answer</button>
                            </div>
                        </div>
                        
                        <div id="slopeQuestionsContainer" style="display: none;">
                            <div id="slopeValueQuestion" class="multiple-choice-question">
                                <p class="question-text"></p>
                                <div class="radio-group" id="slopeValueOptions"></div>
                            </div>
                            <div id="slopeClassificationQuestion" class="multiple-choice-question">
                                <p class="question-text"></p>
                                <div class="radio-group" id="slopeClassificationOptions"></div>
                            </div>
                            <button id="slopeSubmit" class="submit-button" style="display: none;">Submit Answers</button>
                        </div>
                        <div id="slopeResult" class="result-area"></div>
                    </div>
                    <div id="slope-hint-panel" class="hint-panel">
                        <div class="hint-header">
                            <h3>üí° Hints</h3>
                            <button class="close-hint" data-hint-panel="slope-hint-panel">&times;</button>
                        </div>
                        <div id="slope-hint-content" class="hint-content"></div>
                    </div>
                </div>
            </div>

            <!-- Problem Type 2: Relationship Between Two Lines -->
            <div id="relationship-panel" class="problem-panel">
                <div class="problem-layout">
                    <div class="problem-card">
                        <div class="problem-header">
                            <h2>Relationship Between Two Lines</h2>
                            <button class="hint-button" data-hint="relationship" title="Get hints">
                                üí° Get Hint
                            </button>
                        </div>
                        <p class="instructions">Enter two equations. Supported formats: y=mx+b, Ax+By=C, x=c, y=c</p>
                        <div class="input-group">
                            <label for="equation1Input">Equation 1:</label>
                            <input type="text" id="equation1Input" placeholder="y = 2x + 3" class="input-field">
                        </div>
                        <div class="input-group">
                            <label for="equation2Input">Equation 2:</label>
                            <input type="text" id="equation2Input" placeholder="y = 2x - 5" class="input-field">
                        </div>
                        <button id="relationshipCalculateBtn" class="submit-button">Check Relationship</button>
                        <div id="relationshipQuestionContainer" style="display: none;">
                            <div class="multiple-choice-question">
                                <p class="question-text"></p>
                                <div class="radio-group" id="relationshipOptions"></div>
                            </div>
                            <button id="relationshipSubmit" class="submit-button" style="display: none;">Submit Answer</button>
                        </div>
                        <div id="relationshipResult" class="result-area"></div>
                    </div>
                    <div id="relationship-hint-panel" class="hint-panel">
                        <div class="hint-header">
                            <h3>üí° Hints</h3>
                            <button class="close-hint" data-hint-panel="relationship-hint-panel">&times;</button>
                        </div>
                        <div id="relationship-hint-content" class="hint-content"></div>
                    </div>
                </div>
            </div>

            <!-- Problem Type 3: Parallel Line Through a Point -->
            <div id="parallel-panel" class="problem-panel">
                <div class="problem-layout">
                    <div class="problem-card">
                        <div class="problem-header">
                            <h2>Parallel Line Through a Point</h2>
                            <button class="hint-button" data-hint="parallel" title="Get hints">
                                üí° Get Hint
                            </button>
                        </div>
                        <p class="instructions">Enter a base equation and a point in format (x,y)</p>
                        <div class="input-group">
                            <label for="parallelEquationInput">Base Equation:</label>
                            <input type="text" id="parallelEquationInput" placeholder="y = 2x + 3" class="input-field">
                        </div>
                        <div class="input-group">
                            <label for="parallelPointInput">Point:</label>
                            <input type="text" id="parallelPointInput" placeholder="(4,5)" class="input-field">
                        </div>
                        <button id="parallelCalculateBtn" class="submit-button">Calculate</button>
                        <div id="parallelQuestionContainer" style="display: none;">
                            <div class="multiple-choice-question">
                                <p class="question-text"></p>
                                <div class="radio-group" id="parallelOptions"></div>
                            </div>
                            <button id="parallelSubmit" class="submit-button" style="display: none;">Submit Answer</button>
                        </div>
                        <div id="parallelResult" class="result-area"></div>
                    </div>
                    <div id="parallel-hint-panel" class="hint-panel">
                        <div class="hint-header">
                            <h3>üí° Hints</h3>
                            <button class="close-hint" data-hint-panel="parallel-hint-panel">&times;</button>
                        </div>
                        <div id="parallel-hint-content" class="hint-content"></div>
                    </div>
                </div>
            </div>

            <!-- Problem Type 4: Perpendicular Line Through a Point -->
            <div id="perpendicular-panel" class="problem-panel">
                <div class="problem-layout">
                    <div class="problem-card">
                        <div class="problem-header">
                            <h2>Perpendicular Line Through a Point</h2>
                            <button class="hint-button" data-hint="perpendicular" title="Get hints">
                                üí° Get Hint
                            </button>
                        </div>
                        <p class="instructions">Enter a base equation and a point in format (x,y)</p>
                        <div class="input-group">
                            <label for="perpendicularEquationInput">Base Equation:</label>
                            <input type="text" id="perpendicularEquationInput" placeholder="y = 2x + 3" class="input-field">
                        </div>
                        <div class="input-group">
                            <label for="perpendicularPointInput">Point:</label>
                            <input type="text" id="perpendicularPointInput" placeholder="(4,5)" class="input-field">
                        </div>
                        <button id="perpendicularCalculateBtn" class="submit-button">Calculate</button>
                        <div id="perpendicularQuestionContainer" style="display: none;">
                            <div class="multiple-choice-question">
                                <p class="question-text"></p>
                                <div class="radio-group" id="perpendicularOptions"></div>
                            </div>
                            <button id="perpendicularSubmit" class="submit-button" style="display: none;">Submit Answer</button>
                        </div>
                        <div id="perpendicularResult" class="result-area"></div>
                    </div>
                    <div id="perpendicular-hint-panel" class="hint-panel">
                        <div class="hint-header">
                            <h3>üí° Hints</h3>
                            <button class="close-hint" data-hint-panel="perpendicular-hint-panel">&times;</button>
                        </div>
                        <div id="perpendicular-hint-content" class="hint-content"></div>
                    </div>
                </div>
            </div>

            <!-- Problem Type 5: Finding Intercepts -->
            <div id="intercepts-panel" class="problem-panel">
                <div class="problem-layout">
                    <div class="problem-card">
                        <div class="problem-header">
                            <h2>Finding Intercepts</h2>
                            <button class="hint-button" data-hint="intercepts" title="Get hints">
                                üí° Get Hint
                            </button>
                        </div>
                        <p class="instructions">Enter an equation. Supported formats: y=mx+b, Ax+By=C, x=c, y=c</p>
                        <div class="input-group">
                            <label for="interceptEquationInput">Equation:</label>
                            <input type="text" id="interceptEquationInput" placeholder="y = 2x + 3" class="input-field">
                        </div>
                        <button id="interceptCalculateBtn" class="submit-button">Calculate</button>
                        <div id="interceptGraphContainer" style="display: none;">
                            <canvas id="interceptGraph" width="400" height="400"></canvas>
                        </div>
                        <div id="interceptQuestionContainer" style="display: none;">
                            <div class="multiple-choice-question">
                                <p class="question-text"></p>
                                <div class="radio-group" id="interceptOptions"></div>
                            </div>
                            <button id="interceptSubmit" class="submit-button" style="display: none;">Submit Answer</button>
                        </div>
                        <div id="interceptResult" class="result-area"></div>
                    </div>
                    <div id="intercepts-hint-panel" class="hint-panel">
                        <div class="hint-header">
                            <h3>üí° Hints</h3>
                            <button class="close-hint" data-hint-panel="intercepts-hint-panel">&times;</button>
                        </div>
                        <div id="intercepts-hint-content" class="hint-content"></div>
                    </div>
                </div>
            </div>

            <!-- Problem Type 6: Rate of Change -->
            <div id="rateofchange-panel" class="problem-panel">
                <div class="problem-layout">
                    <div class="problem-card">
                        <div class="problem-header">
                            <h2>Rate of Change</h2>
                            <button class="hint-button" data-hint="rateofchange" title="Get hints">
                                üí° Get Hint
                            </button>
                        </div>
                        <p class="instructions">Enter table data or click Calculate to generate a problem</p>
                        <div id="rateOfChangeTableContainer" class="table-container"></div>
                        <button id="rateOfChangeCalculateBtn" class="submit-button">Calculate</button>
                        <div id="rateOfChangeQuestionContainer" style="display: none;">
                            <div class="multiple-choice-question">
                                <p class="question-text"></p>
                                <div class="radio-group" id="rateOfChangeOptions"></div>
                            </div>
                            <button id="rateOfChangeSubmit" class="submit-button" style="display: none;">Submit Answer</button>
                        </div>
                        <div id="rateOfChangeResult" class="result-area"></div>
                    </div>
                    <div id="rateofchange-hint-panel" class="hint-panel">
                        <div class="hint-header">
                            <h3>üí° Hints</h3>
                            <button class="close-hint" data-hint-panel="rateofchange-hint-panel">&times;</button>
                        </div>
                        <div id="rateofchange-hint-content" class="hint-content"></div>
                    </div>
                </div>
            </div>

            <!-- Problem Type 7: Identifying Linear Functions -->
            <div id="linearfunction-panel" class="problem-panel">
                <div class="problem-layout">
                    <div class="problem-card">
                        <div class="problem-header">
                            <h2>Identifying Linear Functions</h2>
                            <button class="hint-button" data-hint="linearfunction" title="Get hints">
                                üí° Get Hint
                            </button>
                        </div>
                        <p class="instructions">Enter table data or click Calculate to generate a problem</p>
                        <div id="linearFunctionTableContainer" class="table-container"></div>
                        <button id="linearFunctionCalculateBtn" class="submit-button">Calculate</button>
                        <div id="linearFunctionQuestionContainer" style="display: none;">
                            <div class="multiple-choice-question">
                                <p class="question-text"></p>
                                <div class="radio-group" id="linearFunctionOptions"></div>
                            </div>
                            <button id="linearFunctionSubmit" class="submit-button" style="display: none;">Submit Answer</button>
                        </div>
                        <div id="linearFunctionResult" class="result-area"></div>
                    </div>
                    <div id="linearfunction-hint-panel" class="hint-panel">
                        <div class="hint-header">
                            <h3>üí° Hints</h3>
                            <button class="close-hint" data-hint-panel="linearfunction-hint-panel">&times;</button>
                        </div>
                        <div id="linearfunction-hint-content" class="hint-content"></div>
                    </div>
                </div>
            </div>

            <!-- Problem Type 8: Converting to Standard Form -->
            <div id="standardform-panel" class="problem-panel">
                <div class="problem-layout">
                    <div class="problem-card">
                        <div class="problem-header">
                            <h2>Converting to Standard Form</h2>
                            <button class="hint-button" data-hint="standardform" title="Get hints">
                                üí° Get Hint
                            </button>
                        </div>
                        <p class="instructions">Enter an equation in any format (y=mx+b, point-slope, etc.)</p>
                        <div class="input-group">
                            <label for="standardFormInput">Equation:</label>
                            <input type="text" id="standardFormInput" placeholder="y = 2x + 3" class="input-field">
                        </div>
                        <button id="standardFormCalculateBtn" class="submit-button">Convert</button>
                        <div id="standardFormQuestionContainer" style="display: none;">
                            <div class="multiple-choice-question">
                                <p class="question-text"></p>
                                <div class="radio-group" id="standardFormOptions"></div>
                            </div>
                            <div class="multiple-choice-question" id="standardFormABCQuestion" style="display: none;">
                                <p class="question-text"></p>
                                <div class="radio-group" id="standardFormABCOptions"></div>
                            </div>
                            <button id="standardFormSubmit" class="submit-button" style="display: none;">Submit Answer</button>
                        </div>
                        <div id="standardFormResult" class="result-area"></div>
                    </div>
                    <div id="standardform-hint-panel" class="hint-panel">
                        <div class="hint-header">
                            <h3>üí° Hints</h3>
                            <button class="close-hint" data-hint-panel="standardform-hint-panel">&times;</button>
                        </div>
                        <div id="standardform-hint-content" class="hint-content"></div>
                    </div>
                </div>
            </div>

            <!-- Problem Type 9: Point-Slope Form -->
            <div id="pointslope-panel" class="problem-panel">
                <div class="problem-layout">
                    <div class="problem-card">
                        <div class="problem-header">
                            <h2>Point-Slope Form</h2>
                            <button class="hint-button" data-hint="pointslope" title="Get hints">
                                üí° Get Hint
                            </button>
                        </div>
                        <p class="instructions">Enter slope (m) and a point (x,y) to build point-slope form equation.</p>
                        <div class="input-group">
                            <label for="pointSlopeMInput">Slope (m):</label>
                            <input type="text" id="pointSlopeMInput" placeholder="2/3 or 2" class="input-field">
                        </div>
                        <div class="input-group">
                            <label for="pointSlopePointInput">Point:</label>
                            <input type="text" id="pointSlopePointInput" placeholder="(3, 5)" class="input-field">
                        </div>
                        <button id="pointSlopeCalculateBtn" class="submit-button">Calculate</button>
                        <div id="pointSlopeQuestionContainer" style="display: none;">
                            <div class="multiple-choice-question">
                                <p class="question-text"></p>
                                <div class="radio-group" id="pointSlopeOptions"></div>
                            </div>
                            <button id="pointSlopeSubmit" class="submit-button" style="display: none;">Submit Answer</button>
                        </div>
                        <div id="pointSlopeResult" class="result-area"></div>
                    </div>
                    <div id="pointslope-hint-panel" class="hint-panel">
                        <div class="hint-header">
                            <h3>üí° Hints</h3>
                            <button class="close-hint" data-hint-panel="pointslope-hint-panel">&times;</button>
                        </div>
                        <div id="pointslope-hint-content" class="hint-content"></div>
                    </div>
                </div>
            </div>

            <!-- Problem Type 10: Absolute Value Graphs -->
            <div id="absolutevalue-panel" class="problem-panel">
                <div class="problem-layout">
                    <div class="problem-card">
                        <div class="problem-header">
                            <h2>Absolute Value Graphs</h2>
                            <button class="hint-button" data-hint="absolutevalue" title="Get hints">
                                üí° Get Hint
                            </button>
                        </div>
                        <p class="instructions">Enter an absolute value equation in the format: y = a|bx + c| + d</p>
                        <div class="input-group">
                            <label for="absoluteValueInput">Equation:</label>
                            <input type="text" id="absoluteValueInput" placeholder="y = 2|3x + 1| - 5" class="input-field">
                        </div>
                        <button id="absoluteValueCalculateBtn" class="submit-button">Calculate</button>
                        <div id="absoluteValueGraphContainer" style="display: none;">
                            <canvas id="absoluteValueGraph" width="400" height="400"></canvas>
                        </div>
                        <div id="absoluteValueQuestionContainer" style="display: none;">
                            <div class="multiple-choice-question">
                                <p class="question-text"></p>
                                <div class="radio-group" id="absoluteValueOptions"></div>
                            </div>
                            <button id="absoluteValueSubmit" class="submit-button" style="display: none;">Submit Answer</button>
                        </div>
                        <div id="absoluteValueResult" class="result-area"></div>
                    </div>
                    <div id="absolutevalue-hint-panel" class="hint-panel">
                        <div class="hint-header">
                            <h3>üí° Hints</h3>
                            <button class="close-hint" data-hint-panel="absolutevalue-hint-panel">&times;</button>
                        </div>
                        <div id="absolutevalue-hint-content" class="hint-content"></div>
                    </div>
                </div>
            </div>

            <!-- Challenge Interface -->
            <div id="challengeInterface" class="challenge-interface" style="display: none;">
                <div class="challenge-header">
                    <h2>Challenge Mode</h2>
                    <div class="challenge-info">
                        <span id="challengeQuestionCounter">Question 1 of 10</span>
                        <span id="challengeHintCount" class="hint-count">Hints: 0/5</span>
                        <button id="exitChallenge" class="exit-challenge-btn">Exit Challenge</button>
                    </div>
                </div>
                <div class="challenge-progress">
                    <div class="progress-bar-container">
                        <div id="challengeProgressBar" class="progress-bar"></div>
                    </div>
                </div>
                <div class="challenge-layout">
                    <div class="challenge-content">
                        <div class="challenge-question-header">
                            <button id="challengeHintButton" class="hint-button" data-hint="" title="Get hints (reduces points by half)">
                                üí° Get Hint
                            </button>
                        </div>
                        <div id="challengeQuestionDisplay" class="challenge-question-display"></div>
                        <div id="challengeInputContainer" class="challenge-input-container"></div>
                        <div id="challengeResult" class="result-area"></div>
                        <div class="challenge-navigation">
                            <button id="challengeBackBtn" class="nav-button">‚Üê Back</button>
                            <button id="challengeSkipBtn" class="nav-button skip-btn">Skip</button>
                            <button id="challengeGiveUpBtn" class="nav-button give-up-btn">Give Up</button>
                            <button id="challengeSubmitBtn" class="nav-button submit-btn">Submit Answer</button>
                        </div>
                    </div>
                    <div id="challenge-hint-panel" class="hint-panel">
                        <div class="hint-header">
                            <h3>üí° Hints</h3>
                            <button class="close-hint" data-hint-panel="challenge-hint-panel">&times;</button>
                        </div>
                        <div id="challenge-hint-content" class="hint-content"></div>
                    </div>
                </div>
            </div>
        
        <!-- MILESTONE 19: Interactive Graphing Practice - New Tab Containers -->
        
        <!-- Graph: Slope-Intercept -->
        <div id="graph-slopeintercept-panel" class="problem-panel">
            <div class="problem-layout">
                <div class="problem-card">
                    <div class="problem-header">
                        <h2>Interactive Graphing: Slope-Intercept Form</h2>
                        <button class="hint-button" data-hint="graph-slopeintercept" title="Get hints">
                            üí° Get Hint
                        </button>
                    </div>
                    
                    <div class="instructions">
                        <p><strong>Instructions:</strong></p>
                        <ul>
                            <li>Click 2 points that lie on the given line</li>
                            <li>Double-click a point to deselect it</li>
                            <li>A line will automatically draw when 2 points are selected</li>
                            <li>Click Submit when you're confident in your answer</li>
                        </ul>
                    </div>
                    
                    <div class="question-area">
                        <p id="graphSlopeInterceptQuestion" class="question-text"></p>
                    </div>
                    
                    <div class="graph-container">
                        <canvas id="graphSlopeInterceptCanvas" width="500" height="500"></canvas>
                    </div>
                    
                    <div class="button-group">
                        <button id="graphSlopeInterceptSubmit" class="primary-button">Submit Answer</button>
                        <button id="graphSlopeInterceptNext" class="secondary-button" style="display: none;">Next Question</button>
                    </div>
                    
                    <div id="graphSlopeInterceptResult" class="result-area"></div>
                </div>
                <div id="graph-slopeintercept-hint-panel" class="hint-panel">
                    <div class="hint-header">
                        <h3>üí° Hints</h3>
                        <button class="close-hint" data-hint-panel="graph-slopeintercept-hint-panel">&times;</button>
                    </div>
                    <div id="graph-slopeintercept-hint-content" class="hint-content"></div>
                </div>
            </div>
        </div>
        
        <!-- Graph: Point-Slope -->
        <div id="graph-pointslope-panel" class="problem-panel">
            <div class="problem-layout">
                <div class="problem-card">
                    <div class="problem-header">
                        <h2>Interactive Graphing: Point-Slope Form</h2>
                        <button class="hint-button" data-hint="graph-pointslope" title="Get hints">
                            üí° Get Hint
                        </button>
                    </div>
            
            <div class="mode-selector">
                <button class="mode-button active" data-mode="practice" data-problem-type="graph-pointslope">Practice Mode</button>
                <button class="mode-button" data-mode="challenge" data-problem-type="graph-pointslope">Challenge Mode</button>
                <button class="mode-button" data-mode="session" data-problem-type="graph-pointslope">Session Mode</button>
                    </div>
                    
                    <div class="instructions">
                        <p><strong>Instructions:</strong></p>
                        <ul>
                            <li>Click 2 points that lie on the given line</li>
                            <li>Double-click a point to deselect it</li>
                            <li>A line will automatically draw when 2 points are selected</li>
                            <li>Click Submit when you're confident in your answer</li>
                        </ul>
                    </div>
                    
                    <div class="question-area">
                        <p id="graphPointSlopeQuestion" class="question-text"></p>
                    </div>
                    
                    <div class="graph-container">
                        <canvas id="graphPointSlopeCanvas" width="500" height="500"></canvas>
                    </div>
                    
                    <div class="button-group">
                        <button id="graphPointSlopeSubmit" class="primary-button">Submit Answer</button>
                        <button id="graphPointSlopeNext" class="secondary-button" style="display: none;">Next Question</button>
                    </div>
                    
                    <div id="graphPointSlopeResult" class="result-area"></div>
                </div>
                <div id="graph-pointslope-hint-panel" class="hint-panel">
                    <div class="hint-header">
                        <h3>üí° Hints</h3>
                        <button class="close-hint" data-hint-panel="graph-pointslope-hint-panel">&times;</button>
                    </div>
                    <div id="graph-pointslope-hint-content" class="hint-content"></div>
                </div>
            </div>
        </div>
        
        <!-- Graph: Parallel Lines -->
        <div id="graph-parallel-panel" class="problem-panel">
            <div class="problem-layout">
                <div class="problem-card">
                    <div class="problem-header">
                        <h2>Interactive Graphing: Parallel Lines</h2>
                        <button class="hint-button" data-hint="graph-parallel" title="Get hints">
                            üí° Get Hint
                        </button>
                    </div>
            
            <div class="mode-selector">
                <button class="mode-button active" data-mode="practice" data-problem-type="graph-parallel">Practice Mode</button>
                <button class="mode-button" data-mode="challenge" data-problem-type="graph-parallel">Challenge Mode</button>
                <button class="mode-button" data-mode="session" data-problem-type="graph-parallel">Session Mode</button>
            </div>
            
            <div class="instructions">
                <p><strong>Instructions:</strong></p>
                <ul>
                    <li><strong>Step 1:</strong> Click 2 points to graph the base line</li>
                    <li><strong>Step 2:</strong> Click 2 points to graph the parallel line through the given point</li>
                    <li>Double-click a point to deselect it</li>
                    <li>Click Submit after completing both steps</li>
                </ul>
            </div>
            
            <div class="question-area">
                <p id="graphParallelQuestion" class="question-text"></p>
                <p id="graphParallelStep" class="step-indicator"></p>
            </div>
            
            <div class="graph-container">
                <canvas id="graphParallelCanvas" width="500" height="500"></canvas>
            </div>
            
            <div class="button-group">
                        <button id="graphParallelSubmit" class="primary-button">Submit Answer</button>
                        <button id="graphParallelNext" class="secondary-button" style="display: none;">Next Question</button>
                    </div>
                    
                    <div id="graphParallelResult" class="result-area"></div>
                </div>
                <div id="graph-parallel-hint-panel" class="hint-panel">
                    <div class="hint-header">
                        <h3>üí° Hints</h3>
                        <button class="close-hint" data-hint-panel="graph-parallel-hint-panel">&times;</button>
                    </div>
                    <div id="graph-parallel-hint-content" class="hint-content"></div>
                </div>
            </div>
        </div>
        
        <!-- Graph: Perpendicular Lines -->
        <div id="graph-perpendicular-panel" class="problem-panel">
            <div class="problem-layout">
                <div class="problem-card">
                    <div class="problem-header">
                        <h2>Interactive Graphing: Perpendicular Lines</h2>
                        <button class="hint-button" data-hint="graph-perpendicular" title="Get hints">
                            üí° Get Hint
                        </button>
                    </div>
            
            <div class="mode-selector">
                <button class="mode-button active" data-mode="practice" data-problem-type="graph-perpendicular">Practice Mode</button>
                <button class="mode-button" data-mode="challenge" data-problem-type="graph-perpendicular">Challenge Mode</button>
                <button class="mode-button" data-mode="session" data-problem-type="graph-perpendicular">Session Mode</button>
            </div>
            
            <div class="instructions">
                <p><strong>Instructions:</strong></p>
                <ul>
                    <li><strong>Step 1:</strong> Click 2 points to graph the base line</li>
                    <li><strong>Step 2:</strong> Click 2 points to graph the perpendicular line through the given point</li>
                    <li>Double-click a point to deselect it</li>
                    <li>Click Submit after completing both steps</li>
                </ul>
            </div>
            
            <div class="question-area">
                <p id="graphPerpendicularQuestion" class="question-text"></p>
                <p id="graphPerpendicularStep" class="step-indicator"></p>
            </div>
            
            <div class="graph-container">
                <canvas id="graphPerpendicularCanvas" width="500" height="500"></canvas>
            </div>
            
            <div class="button-group">
                        <button id="graphPerpendicularSubmit" class="primary-button">Submit Answer</button>
                        <button id="graphPerpendicularNext" class="secondary-button" style="display: none;">Next Question</button>
                    </div>
                    
                    <div id="graphPerpendicularResult" class="result-area"></div>
                </div>
                <div id="graph-perpendicular-hint-panel" class="hint-panel">
                    <div class="hint-header">
                        <h3>üí° Hints</h3>
                        <button class="close-hint" data-hint-panel="graph-perpendicular-hint-panel">&times;</button>
                    </div>
                    <div id="graph-perpendicular-hint-content" class="hint-content"></div>
                </div>
            </div>
        </div>
        
        <!-- Graph: Absolute Value -->
        <div id="graph-absolutevalue-panel" class="problem-panel">
            <div class="problem-layout">
                <div class="problem-card">
                    <div class="problem-header">
                        <h2>Interactive Graphing: Absolute Value Functions</h2>
                        <button class="hint-button" data-hint="graph-absolutevalue" title="Get hints">
                            üí° Get Hint
                        </button>
                    </div>
            
            <div class="mode-selector">
                <button class="mode-button active" data-mode="practice" data-problem-type="graph-absolutevalue">Practice Mode</button>
                <button class="mode-button" data-mode="challenge" data-problem-type="graph-absolutevalue">Challenge Mode</button>
                <button class="mode-button" data-mode="session" data-problem-type="graph-absolutevalue">Session Mode</button>
            </div>
            
            <div class="instructions">
                <p><strong>Instructions:</strong></p>
                <ul>
                    <li>Click 3 points that lie on the V-shaped graph</li>
                    <li>Include the vertex and one point on each side</li>
                    <li>Double-click a point to deselect it</li>
                    <li>Click Submit when you've selected all 3 points</li>
                </ul>
            </div>
            
            <div class="question-area">
                <p id="graphAbsoluteValueQuestion" class="question-text"></p>
            </div>
            
            <div class="graph-container">
                <canvas id="graphAbsoluteValueCanvas" width="500" height="500"></canvas>
            </div>
            
            <div class="button-group">
                        <button id="graphAbsoluteValueSubmit" class="primary-button">Submit Answer</button>
                        <button id="graphAbsoluteValueNext" class="secondary-button" style="display: none;">Next Question</button>
                    </div>
                    
                    <div id="graphAbsoluteValueResult" class="result-area"></div>
                </div>
                <div id="graph-absolutevalue-hint-panel" class="hint-panel">
                    <div class="hint-header">
                        <h3>üí° Hints</h3>
                        <button class="close-hint" data-hint-panel="graph-absolutevalue-hint-panel">&times;</button>
                    </div>
                    <div id="graph-absolutevalue-hint-content" class="hint-content"></div>
                </div>
            </div>
        </div>

        </main>

        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-section">
                <h3>Session Info</h3>
                <div id="sessionInfo" class="info-display">
                    <p>Questions: <span id="totalQuestions">0</span></p>
                    <p>Correct: <span id="correctQuestions">0</span></p>
                    <p>Accuracy: <span id="accuracy">0%</span></p>
                </div>
            </div>
            <div class="sidebar-section">
                <h3>Achievements</h3>
                <button id="viewAchievements" class="achievement-button">View All</button>
                <div id="achievementsList" class="achievements-list"></div>
            </div>
            <div class="sidebar-section">
                <h3>Help</h3>
                <div class="help-text">
                    <p><strong>Practice Mode:</strong> No time limit, track your time</p>
                    <p><strong>Challenge Mode:</strong> Pre-generated question sets with navigation</p>
                    <p><strong>Session Mode:</strong> 10 minute practice session</p>
                </div>
            </div>
            <div class="sidebar-section developer-tools">
                <h3>Developer Tools</h3>
                <div class="test-buttons">
                    <button id="testConfettiBtn" class="test-button" title="Test confetti animation">
                        üéâ Test Confetti
                    </button>
                    <button id="testFireworksBtn" class="test-button" title="Test fireworks animation">
                        üéÜ Test Fireworks
                    </button>
                </div>
                
                <!-- Milestone 18: Enhanced Feedback Effects Test Buttons -->
                <h4 style="margin-top: 20px; font-size: 0.9rem; color: #999;">Mild Effects (50%)</h4>
                <div class="test-buttons">
                    <button id="testFloatingPointsBtn" class="test-button" title="Test floating score points">
                        üéØ Floating Points
                    </button>
                    <button id="testSuccessBadgeBtn" class="test-button" title="Test success badge pop-up">
                        üèÖ Success Badge
                    </button>
                    <button id="testProgressPulseBtn" class="test-button" title="Test progress bar pulse">
                        ‚ú® Progress Pulse
                    </button>
                    <button id="testSubtleParticlesBtn" class="test-button" title="Test subtle particle burst">
                        üí´ Subtle Particles
                    </button>
                </div>
                
                <h4 style="margin-top: 15px; font-size: 0.9rem; color: #999;">Medium Effects (85%)</h4>
                <div class="test-buttons">
                    <button id="testEmojiRainBtn" class="test-button" title="Test emoji rain">
                        üéä Emoji Rain
                    </button>
                    <button id="testStreakFireBtn" class="test-button" title="Test streak meter fire">
                        üî• Streak Fire
                    </button>
                    <button id="testConfettiTrailsBtn" class="test-button" title="Test confetti trails">
                        üåà Confetti Trails
                    </button>
                    <button id="testScreenBounceBtn" class="test-button" title="Test screen bounce">
                        üì≥ Screen Bounce
                    </button>
                </div>
                
                <h4 style="margin-top: 15px; font-size: 0.9rem; color: #999;">High Effects (100%)</h4>
                <div class="test-buttons">
                    <button id="testCelebrationModalBtn" class="test-button" title="Test celebration modal">
                        üéâ Celebration Modal
                    </button>
                    <button id="testParticleExplosionBtn" class="test-button" title="Test particle explosion">
                        üí• Particle Explosion
                    </button>
                </div>
            </div>
        </aside>
    </div>

    <!-- Achievement Modal -->
    <div id="achievementModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>Achievements</h2>
            <div id="allAchievements" class="all-achievements"></div>
        </div>
    </div>

    <!-- Achievement Toast -->
    <div id="achievementToast" class="toast">
        <div class="toast-content">
            <h3>üéâ Achievement Unlocked!</h3>
            <p id="toastAchievementName"></p>
            <p id="toastAchievementDesc"></p>
        </div>
    </div>

    <!-- Hint Tooltip -->
    <div id="hintTooltip" class="hint-tooltip">
        <div class="tooltip-content">
            <div class="tooltip-header">
                <h3>üí° Hints</h3>
                <button class="close-tooltip">&times;</button>
            </div>
            <div id="hintContent" class="tooltip-body"></div>
        </div>
    </div>

    <!-- Challenge Setup Modal -->
    <div id="challengeSetupModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" id="closeChallengeSetup">&times;</span>
            <h2>Start Challenge</h2>
            <p>Select the number of questions for your challenge:</p>
            <div class="set-size-options">
                <button class="set-size-btn" data-size="5">5 Questions</button>
                <button class="set-size-btn" data-size="10">10 Questions</button>
                <button class="set-size-btn" data-size="25">25 Questions</button>
                <button class="set-size-btn" data-size="50">50 Questions</button>
                <button class="set-size-btn" data-size="100">100 Questions</button>
            </div>
            <button id="cancelChallengeSetup" class="cancel-button">Cancel</button>
        </div>
    </div>

    <!-- Challenge Completion Modal -->
    <div id="challengeCompletionModal" class="modal">
        <div class="modal-content completion-modal">
            <span class="close-modal" id="closeChallengeCompletion">&times;</span>
            <div class="completion-content"></div>
            <div class="completion-actions">
                <button id="restartChallenge" class="action-button">Start New Challenge</button>
                <button id="returnToPractice" class="action-button">Return to Practice</button>
            </div>
        </div>
    </div>

    <!-- Milestone 18: Visual Effects Warning Modal -->
    <div id="visualEffectsWarningModal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 500px;">
            <h2 style="color: #ff9800; margin-bottom: 15px;">‚ö†Ô∏è Visual Effects Notice</h2>
            <p style="margin-bottom: 15px; line-height: 1.6;">
                This app uses animated visual effects including:
            </p>
            <ul style="text-align: left; margin: 15px 0; padding-left: 30px;">
                <li>Flashing particles and colors</li>
                <li>Moving elements and screen motion</li>
                <li>Rapid animations</li>
            </ul>
            <p style="margin-bottom: 20px; line-height: 1.6;">
                If you have sensitivity to visual motion or flashing lights,
                please be aware these effects may occur during gameplay.
            </p>
            <div style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
                <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                    <input type="checkbox" id="dontShowAgainCheckbox">
                    <span>Don't show this again</span>
                </label>
            </div>
            <button id="visualEffectsOkBtn" style="margin-top: 20px; padding: 12px 30px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 25px; cursor: pointer; font-size: 1rem; font-weight: bold;">
                OK, I Understand
            </button>
        </div>
    </div>

    <!-- Celebration Containers -->
    <div id="confettiContainer" class="celebration-container"></div>
    <div id="fireworksContainer" class="celebration-container"></div>

    <script src="app.js"></script>
</body>
</html>

